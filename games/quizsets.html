<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Quiz Sets â€” Endue Learning</title>
  <link rel="stylesheet" href="/assets/css/style.css">
  <script src="/assets/js/header.js" defer></script>
  <script src="/assets/js/footer.js" defer></script>
  <style>.quiz-wrap{max-width:900px;margin:18px auto}.question{margin-bottom:12px}.result{font-size:1.1rem;font-weight:700}</style>
</head>
<body>
  <div id="header"></div>
  <main class="container quiz-wrap card">
    <h1>Quiz Sets</h1>
    <p class="small">Choose a subject and start a 10-question practice set.</p>
    <div class="card">
      <label>Subject:
        <select id="subjectSelect">
          <option value="math">Math</option>
          <option value="science">Science</option>
          <option value="english">English</option>
        </select>
      </label>
      <button id="startBtn" class="btn">Start Quiz</button>
    </div>

    <div id="quizArea" style="margin-top:12px; display:none;">
      <div id="qbox" class="card"></div>
      <div style="margin-top:10px;"><button id="nextBtn" class="btn">Next</button></div>
      <div id="score" style="margin-top:12px;"></div>
    </div>
  </main>
  <div id="footer"></div>

  <script>
  // very small sample question banks (expand into assets/data files)
  const BANK = {
    math: [
      {q:"5+3=?", options:["8","9","7","10"], a:"8"},
      {q:"10-4=?", options:["4","6","7","8"], a:"6"},
      {q:"2x3=?", options:["5","6","7","8"], a:"6"},
      {q:"9/3=?", options:["2","3","4","5"], a:"3"},
      {q:"7+2=?", options:["8","9","10","11"], a:"9"},
      {q:"6-1=?", options:["4","5","6","7"], a:"5"},
      {q:"3x2=?", options:["5","6","7","8"], a:"6"},
      {q:"8/2=?", options:["2","3","4","5"], a:"4"},
      {q:"4+4=?", options:["7","8","9","10"], a:"8"},
      {q:"1+9=?", options:["9","10","11","12"], a:"10"}
    ],
    science:[
      {q:"H2O is?", options:["Water","Oxygen","Hydrogen","Salt"], a:"Water"},
      {q:"Sun is a?", options:["Planet","Star","Moon","Comet"], a:"Star"},
      {q:"Plants make food by?", options:["Photosynthesis","Digestion","Respiration","Evaporation"], a:"Photosynthesis"},
      {q:"Our heart pumps?", options:["Air","Blood","Food","Water"], a:"Blood"},
      {q:"Bone is made of?", options:["Calcium","Iron","Water","Sugar"], a:"Calcium"},
      {q:"Earth shape is?", options:["Flat","Circular","Spherical","Square"], a:"Spherical"},
      {q:"Birds breathe using?", options:["Gills","Lungs","Fins","Roots"], a:"Lungs"},
      {q:"Which is a mammal?", options:["Frog","Shark","Dolphin","Crocodile"], a:"Dolphin"},
      {q:"Photosynthesis needs?", options:["Sunlight","Salt","Sand","Ice"], a:"Sunlight"},
      {q:"Which gas do we breathe in?", options:["CO2","O2","N2","He"], a:"O2"}
    ],
    english:[
      {q:"Synonym of 'happy'?", options:["Sad","Angry","Joyful","Tired"], a:"Joyful"},
      {q:"Antonym of 'big'?", options:["Large","Huge","Small","Great"], a:"Small"},
      {q:"Fill: She ___ to school.", options:["go","goes","going","gone"], a:"goes"},
      {q:"Plural of 'child'?", options:["childs","children","childes","child"], a:"children"},
      {q:"Past of 'run'?", options:["runned","ran","runs","running"], a:"ran"},
      {q:"A ___ is a story.", options:["novel","tree","box","stone"], a:"novel"},
      {q:"Use 'a' or 'an': ___ apple", options:["a","an","the","none"], a:"an"},
      {q:"Which is punctuation?", options:["Comma","Blue","Run","Book"], a:"Comma"},
      {q:"Synonym of 'fast'?", options:["Quick","Slow","Late","Calm"], a:"Quick"},
      {q:"Opposite of 'in'?", options:["Out","Over","Under","Near"], a:"Out"}
    ]
  };

  let current=0, setAnswers=[], currentBank=[];

  const qbox = document.getElementById('qbox'), quizArea = document.getElementById('quizArea'), scoreDiv = document.getElementById('score');
  document.getElementById('startBtn').addEventListener('click', ()=>{
    const subj = document.getElementById('subjectSelect').value;
    currentBank = [...BANK[subj]];
    // shuffle and take first 10
    currentBank.sort(()=>0.5-Math.random());
    currentBank = currentBank.slice(0,10);
    current=0; setAnswers = [];
    quizArea.style.display='block';
    renderQ();
  });

  function renderQ(){
    const q = currentBank[current];
    qbox.innerHTML = `<div class="question"><strong>Q${current+1}.</strong> ${q.q}</div>`;
    const opts = document.createElement('div');
    opts.className='options';
    q.options.forEach(opt=>{
      const b = document.createElement('button'); b.className='opt-btn'; b.innerText=opt;
      b.addEventListener('click', ()=> { setAnswers[current]=opt; markSelected(opt); });
      opts.appendChild(b);
    });
    qbox.appendChild(opts);
    document.getElementById('nextBtn').onclick = nextQ;
  }

  function markSelected(opt){
    Array.from(qbox.querySelectorAll('.opt-btn')).forEach(b=>{
      b.style.borderColor = b.innerText === opt ? '#2b9cff' : '#e4e8ef';
      b.style.background = b.innerText === opt ? '#eaf6ff' : '#f7fbff';
    });
  }

  function nextQ(){
    if(typeof setAnswers[current] === 'undefined'){ if(!confirm('You did not answer this question. Skip?')) return; setAnswers[current]=null; }
    current++;
    if(current >= currentBank.length){ finishQuiz(); return; }
    renderQ();
  }

  function finishQuiz(){
    let score=0;
    for(let i=0;i<currentBank.length;i++){
      if(setAnswers[i] === currentBank[i].a) score++;
    }
    quizArea.style.display='none';
    scoreDiv.innerHTML = `<div class="result">You scored ${score} / ${currentBank.length}. <a href="/games/quizsets.html">Try another set</a></div>`;
  }
  </script>
